<div class="page-container">
    <div class="container-title">
        <h2>DATA VERIFICATION AND VALIDATION</h2>
    </div>

    <mat-horizontal-stepper linear #stepper>
        <ng-template matStepperIcon="done">
            <mat-icon>
                <i class="fas fa-check"></i>
            </mat-icon>
        </ng-template>


        <!-- <mat-step [editable]="false" [completed]="isDone"> -->
        <mat-step [editable]="false">
            <ng-template class="step" matStepLabel>Typo issues </ng-template>
            <div class="container-table">
                <div class="container-content box-green">
                    <div class="content-button">
                        <button mat-button class="next-button" (click)="stepper.next()">
                            <span class="next">NEXT</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div class="content-table" *ngIf="typoIssues.length > 0">
                        <mat-card *ngFor="let data of typoIssues, index as i">
                            <mat-chip-list>
                                <mat-chip>Old</mat-chip>
                            </mat-chip-list>
                            <mat-card-content>
                                <div class="householdData">
                                    <mat-checkbox [checked]="!check" color="primary" (change)="selectHousehold(data, 'old', i)">
                                    </mat-checkbox>
                                    <div class="content-householdData">
                                        <div class="dataToCompare">{{data.old.nameHead}}</div>
                                        <div class="dataToCompare">{{data.old.households.address_number}} {{data.old.households.address_street}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm4}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 == ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm2}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm1}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.beneficiaries.length > 1">
                                            <div class="dataToCompare" *ngFor="let beneficiary of data.old.households.beneficiaries">
                                                <div class="dataToCompare" *ngIf="beneficiary.status == 0 && data.update == false">
                                                    {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                                <mat-chip-list>
                                    <mat-chip>New</mat-chip>
                                </mat-chip-list>
                                <div class="householdData">
                                    <mat-checkbox [checked]="!check" color="primary" (change)="selectHousehold(data, 'new', i)">
                                    </mat-checkbox>
                                    <div class="content-householdData">
                                        <div class="dataToCompare">{{data.new.nameHead}}</div>
                                        <div class="dataToCompare">{{data.new.households.address_number}} {{data.new.households.address_street}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.location.adm4 != ''">{{data.new.households.address_postcode}} {{data.new.households.location.adm4}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.location.adm4 == ''">{{data.new.households.address_postcode}} {{data.new.households.location.adm3}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.location.adm4 != ''">{{data.new.households.location.adm3}}</div>
                                        <div class="dataToCompare">{{data.new.households.location.adm2}}</div>
                                        <div class="dataToCompare">{{data.new.households.location.adm1}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.beneficiaries.length > 1">
                                            <div class="dataToCompare" *ngFor="let beneficiary of data.new.households.beneficiaries">
                                                <div class="dataToCompare" *ngIf="beneficiary.status == 0 && data.update == false">
                                                    {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mat-card-content>
                        </mat-card>
                    </div>
                    <div *ngIf="typoIssues.length == 0" class="no-data-box">
                        <h1 class="box-title"> No typo issues</h1>
                    </div>
                </div>
            </div>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel>Duplicates </ng-template>
            <div class="container-table">
                <div class="container-content box-green">
                    <div class="content-button">
                        <button mat-button class="next-button" (click)="stepper.next()">
                            <span class="next">NEXT</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div class="content-table" *ngIf="duplicate.length > 0">
                        <mat-card *ngFor="let data of duplicate">
                            <mat-chip-list>
                                <mat-chip>Old</mat-chip>
                            </mat-chip-list>
                            <mat-card-content>
                                <div class="householdData">
                                    <mat-checkbox [checked]="!check" color="primary" (change)="selectBeneficiary(beneficiary)">
                                    </mat-checkbox>
                                    <div class="content-householdData">
                                        <div class="dataToCompare">{{data.old.nameHead}}</div>
                                        <div class="dataToCompare">{{data.old.households.address_number}} {{data.old.households.address_street}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm4}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 == ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm2}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm1}}</div>
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                                <mat-chip-list>
                                    <mat-chip>New</mat-chip>
                                </mat-chip-list>
                                <div class="householdData">
                                    <mat-checkbox [checked]="!check" color="primary" (change)="selectBeneficiary(beneficiary)">
                                    </mat-checkbox>
                                    <div class="content-householdData">
                                        <div class="dataToCompare">{{data.new.nameHead}}</div>
                                        <div class="dataToCompare">{{data.new.households.address_number}} {{data.new.households.address_street}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.location.adm4 != ''">{{data.new.households.address_postcode}} {{data.new.households.location.adm4}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.location.adm4 == ''">{{data.new.households.address_postcode}} {{data.new.households.location.adm3}}</div>
                                        <div class="dataToCompare" *ngIf="data.new.households.location.adm4 != ''">{{data.new.households.location.adm3}}</div>
                                        <div class="dataToCompare">{{data.new.households.location.adm2}}</div>
                                        <div class="dataToCompare">{{data.new.households.location.adm1}}</div>
                                    </div>
                                </div>
                            </mat-card-content>
                        </mat-card>
                    </div>
                    <div *ngIf="duplicate.length == 0" class="no-data-box">
                        <h1 class="box-title"> No duplicate issues</h1>
                    </div>
                </div>
            </div>

        </mat-step>

        <mat-step>
            <ng-template matStepLabel>Added beneficiaries </ng-template>
            <div class="container-table">
                <div class="container-content box-green">
                    <div class="content-button">
                        <button mat-button class="next-button" (click)="stepper.next()">
                            <span class="next">NEXT</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div class="content-table" *ngIf="more.length > 0">
                        <mat-card *ngFor="let data of more">
                            <mat-card-content>
                                <div class="householdData">
                                    <div class="content-householdData">
                                        <div class="dataToCompare">{{data.old.nameHead}}</div>
                                        <div class="dataToCompare">{{data.old.households.address_number}} {{data.old.households.address_street}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm4}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 == ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm2}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm1}}</div>
                                    </div>
                                </div>
                                <div *ngIf="data.old.households.beneficiaries.length > 1">
                                    <mat-divider></mat-divider>
                                    <mat-chip-list>
                                        <mat-chip>existing beneficiaries</mat-chip>
                                    </mat-chip-list>
                                    <div class="householdData">
                                        <div class="content-householdData">
                                            <div class="dataToCompare" *ngFor="let beneficiary of data.old.households.beneficiaries">
                                                <div class="dataToCompare" *ngIf="beneficiary.status == 0 && data.update == false">
                                                    {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                                <mat-chip-list>
                                    <mat-chip>beneficiaries to add</mat-chip>
                                </mat-chip-list>
                                <div class="householdData">
                                    <div class="content-beneficiariesData">
                                        <div class="dataToCompare" *ngIf="data.new.households.beneficiaries.length > 1">
                                            <div class="dataToCompare" *ngFor="let beneficiary of data.new.households.beneficiaries">
                                                <div class="dataToCompare" *ngIf="beneficiary.status == 0 && data.update == false">
                                                    <mat-checkbox [checked]="!check" color="primary" (change)="selectBeneficiary(beneficiary)">
                                                        {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                                    </mat-checkbox>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mat-card-content>
                        </mat-card>
                    </div>
                    <div *ngIf="more.length == 0" class="no-data-box">
                        <h1 class="box-title"> No beneficiaries to add</h1>
                    </div>
                </div>
            </div>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel>Removed beneficiaries </ng-template>
            <div class="container-table">
                <div class="container-content box-green">
                    <div class="content-button">
                        <button mat-button class="next-button" (click)="stepper.next()">
                            <span class="next">NEXT</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div class="content-table" *ngIf="less.length > 0">
                        <mat-card *ngFor="let data of less">
                            <mat-card-content>
                                <div class="householdData">
                                    <div class="content-householdData">
                                        <div class="dataToCompare">{{data.old.nameHead}}</div>
                                        <div class="dataToCompare">{{data.old.households.address_number}} {{data.old.households.address_street}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm4}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 == ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.location.adm3}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm2}}</div>
                                        <div class="dataToCompare">{{data.old.households.location.adm1}}</div>
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                                <div *ngIf="data.new.households.beneficiaries.length > 1">
                                    <mat-chip-list>
                                        <mat-chip>existing beneficiaries</mat-chip>
                                    </mat-chip-list>
                                    <div class="householdData">
                                        <div class="content-householdData">
                                            <div class="dataToCompare" *ngFor="let beneficiary of data.new.households.beneficiaries">
                                                <div class="dataToCompare" *ngIf="beneficiary.status == 0 && data.update == false">
                                                    {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                                <mat-chip-list>
                                    <mat-chip>beneficiaries to remove</mat-chip>
                                </mat-chip-list>
                                <div class="householdData">
                                    <div class="content-beneficiariesData">
                                        <div class="dataToCompare" *ngIf="data.old.households.beneficiaries.length > 1">
                                            <div class="dataToCompare" *ngFor="let beneficiary of data.old.households.beneficiaries">
                                                <div class="dataToCompare" *ngIf="beneficiary.status == 0 && data.update == false">
                                                    <mat-checkbox [checked]="!check" color="primary" (change)="selectBeneficiary(beneficiary)">
                                                        {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                                    </mat-checkbox>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mat-card-content>
                        </mat-card>
                    </div>
                    <div *ngIf="less.length == 0" class="no-data-box">
                        <h1 class="box-title"> No beneficiaries to remove</h1>
                    </div>
                </div>
            </div>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel>Done</ng-template>
            You are now done all verification.
            <div>
                <button mat-button (click)="stepper.reset()">Send</button>
            </div>
        </mat-step>

    </mat-horizontal-stepper>


</div>