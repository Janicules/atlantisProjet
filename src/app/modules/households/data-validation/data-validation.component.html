<!-- <div class="page-container">
    <div class="container-title">
        <h2>DATA VERIFICATION AND VALIDATION</h2>
    </div>
    <div class="container-table" *ngFor="let data of datas">

        <div class="container-content box-green">
            <mat-card>
                <div class="content-button mat-card-button">
                    <button mat-button (click)="update()" class="select-button" *ngIf="buttonUpdate == false">UPDATE OLD</button>
                    <button mat-button (click)="create(data.new)" class="select-button" *ngIf="buttonUpdate == false">CREATE NEW</button>

                    <button mat-button (click)="return()" class="select-button" *ngIf="buttonUpdate == true">RETURN</button>
                    <button mat-button (click)="validate(data.old)" class="select-button" *ngIf="buttonUpdate == true">VALIDATE</button>
                </div>
                <div class="content-validation">
                    <div class="content-data">
                        <div class="select selectOld">
                            <div class="dataToCompare">{{data.old.name}}</div>
                            <div class="dataToCompare">{{data.old.address}}</div>
                            <div class="dataToCompare">{{data.old.location.adm1}}</div>
                            <div class="dataToCompare">{{data.old.location.adm2}}</div>
                            <div class="dataToCompare">{{data.old.location.adm3}}</div>
                            <div class="dataToCompare">{{data.old.location.adm4}}</div>
                        </div>
                        <mat-divider [vertical]="true"></mat-divider>
                        <div class="select selectNew">
                            <div class="dataToCompare">{{data.new.name}}</div>
                            <div class="dataToCompare">{{data.new.address}}</div>
                            <div class="dataToCompare">{{data.new.location.adm1}}</div>
                            <div class="dataToCompare">{{data.new.location.adm2}}</div>
                            <div class="dataToCompare">{{data.new.location.adm3}}</div>
                            <div class="dataToCompare">{{data.new.location.adm4}}</div>
                        </div>
                    </div>

                    <div class="content-data">
                        <mat-accordion class="panel-beneficiary">
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Beneficiary
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        {{data.old.dependent}} beneficiaries
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="panel-body">
                                    <div class="dataToCompare" *ngFor="let beneficiary of data.old.beneficiary">
                                        <span *ngIf="buttonUpdate == false">{{beneficiary.given_name}} {{beneficiary.family_name}}</span>
                                        <mat-checkbox (change)="selectBeneficiary($event, beneficiary)" color="primary" *ngIf="buttonUpdate == true">
                                            {{beneficiary.given_name}} {{beneficiary.family_name}}
                                        </mat-checkbox>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                        <mat-accordion class="panel-beneficiary">
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Beneficiary
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        {{data.new.dependent}} beneficiaries
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="panel-body">
                                    <div class="dataToCompare" *ngFor="let beneficiary of data.new.beneficiary">
                                        <span *ngIf="buttonUpdate == false">{{beneficiary.given_name}} {{beneficiary.family_name}}</span>
                                        <mat-checkbox (change)="selectBeneficiary($event, beneficiary)" color="primary" *ngIf="buttonUpdate == true">
                                            {{beneficiary.given_name}} {{beneficiary.family_name}}
                                        </mat-checkbox>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </div>

            </mat-card>

        </div>

    </div>
</div> -->


<div class="page-container">
    <div class="container-title">
        <h2>DATA VERIFICATION AND VALIDATION</h2>
    </div>

    <div class="container-boxes">
    </div>

    <div class="container-table">
        <div class="container-content box-green">

            <div class="content-button">
            </div>

            <div class="content-table">
                <mat-card *ngFor="let data of datas" >
                    <mat-card-content>
                        <div class="oldData">
                            <mat-chip>Existing data : </mat-chip>
                            <div class="dataToCompare">{{data.old.nameHead}}</div>
                            <div class="dataToCompare">{{data.old.households.address_number}} {{data.old.households.address_street}}</div>
                            <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm4}}</div>
                            <div class="dataToCompare" *ngIf="data.old.households.location.adm4 == ''">{{data.old.households.address_postcode}} {{data.old.households.location.adm3}}</div>
                            <div class="dataToCompare" *ngIf="data.old.households.location.adm4 != ''">{{data.old.households.location.adm3}}</div>
                            <div class="dataToCompare">{{data.old.households.location.adm2}}</div>
                            <div class="dataToCompare">{{data.old.households.location.adm1}}</div>
                            <div class="dataToCompare" *ngIf="data.old.households.beneficiaries.length > 1">
                                <div class="dataToCompare" *ngFor="let beneficiary of data.old.households.beneficiaries">
                                    <div class="dataToCompare" *ngIf="beneficiary.status == 0">
                                        {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="newData">
                            <mat-chip>New data : </mat-chip>
                            <div class="dataToCompare">{{data.new.nameHead}}</div>
                            <div class="dataToCompare">{{data.new.households.address_number}} {{data.new.households.address_street}}</div>
                            <div class="dataToCompare"  *ngIf="data.new.households.location.adm4 != ''">{{data.new.households.address_postcode}} {{data.new.households.location.adm4}}</div>
                            <div class="dataToCompare"  *ngIf="data.new.households.location.adm4 == ''">{{data.new.households.address_postcode}} {{data.new.households.location.adm3}}</div>
                            <div class="dataToCompare"*ngIf="data.new.households.location.adm4 != ''">{{data.new.households.location.adm3}}</div>
                            <div class="dataToCompare">{{data.new.households.location.adm2}}</div>
                            <div class="dataToCompare">{{data.new.households.location.adm1}}</div>
                            <div class="dataToCompare" *ngIf="data.new.households.beneficiaries.length > 1">
                                <div class="dataToCompare" *ngFor="let beneficiary of data.new.households.beneficiaries">
                                    <div class="dataToCompare" *ngIf="beneficiary.status == 0">
                                        {{beneficiary.given_name}} {{beneficiary.date_of_birth}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-card-content>

                    <mat-card-actions>
                        <button mat-button [disabled]="data.conflictMerged" class="select-button" (click)="saveBoth(data)">SAVE BOTH</button>
                        <button mat-button [disabled]="data.conflictMerged" class="select-button">OVERWRITE</button>
                    </mat-card-actions>
                </mat-card>
            </div>
        </div>

    </div>

</div>